{% extends "base_listview.html" %}
{% load pagination_tags %}
{% load utility_tags %}


<h2>Scaling Tickets</h2>
{% block sidebar %}
     <form role="form" action="" method="get">
		{% for field in filter.form %}
    		<div class="form-group">
        		{{ field.errors }}
        		{{ field.label_tag }} 
        		{{ field|htmlattributes:"class : form-control"  }}
    		</div>
	{% endfor %}
         <button type="submit" class="btn btn-default">Filter Results</button>
    </form>
{% endblock %}
{% block main %}
    {% autopaginate filter 10 %}
  	<a class="btn btn-primary" href="{% url 'lumber_scaling:lumber-load-add' %}">Add New Load</a>
    <table class="table table-striped table-bordered table-responsive table-hover">
    	<tr id="header_row">
	    	<th>Load Date</th>
	    	<th>Load Comments</th>
	    	<th>Data</th>
	    	<th>Actions</th>
    	</tr>
    	{% for object in filter %}
    	<tr>
		   	{% if object.scalingticket %}
		   		<td><a href={% url 'lumber_scaling:scaling-ticket-list' %}>{{object.scalingticket}}</a></td>
		   	{% else %}
		   		<td><a href={% url 'lumber_scaling:scaling-ticket-add' %}>Add new ticket</a></td>
		   	{% endif %}
		   	<td>{{object.load_date}}</td>
		   	<td>{{object.load_comments}}</td>
		   	<td>
		  		<a href="{% url 'lumber_scaling:lumber-load-detail' object.lumberload_id %}">Load {{ object.lumberload_id }} Data</a>
		   	</td>
			<td>
				<button><a href="{% url 'lumber_scaling:lumber-load-edit' object.lumberload_id %}">Edit</a> </button>				
				<button><a href="{% url 'lumber_scaling:lumber-load-delete' object.lumberload_id %}">Delete</a></button>
			</td>
    	</tr>
    	{% endfor %}
    </table>
	{% paginate %}
{% endblock %}

