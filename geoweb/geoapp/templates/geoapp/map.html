{% load staticfiles %}

<!DOCTYPE html> 
<html lang='en'> 
<head> 
    <meta charset='utf-8' /> 
	<script src="http://maps.google.com/maps/api/js?sensor=false&v=3.2"></script> 
    <script type="text/css" src="{% static 'geoapp/css/theme/default/style.css' %}"></script>
    <script type="text/css" src="{% static 'geoapp/javascript/theme/default/style.css' %}"></script>
    <script type="text/javascript" src="{% static 'geoapp/javascript/OpenLayers.js' %}"></script>
    <script type='text/javascript'>

    var map;
    // Trouble getting my own api key so borrowing this in the meantime.
    var apiKey = "AqTGBsziZHIJYYxgivLBf0hVdrAk9mWO5cQcb8Yux8sW5M8c8opEC2lZqKR1ZZXf"
    function init() {
            //Create the map object
            
             	boundsLeft = -9339840;
                boundsRight = -9263403;
                boundsTop = 4151753;
                boundsBottom = 4075316;
                
            center = new OpenLayers.LonLat([-9299531, 4114553]);
                
            map = new OpenLayers.Map('map_element',{
				extent: new OpenLayers.Bounds(
				boundsBottom,
				boundsLeft,
				boundsRight,
				boundsTop),
				maxResolution: 156543.0339,                
				units: 'm',
				projection: new OpenLayers.Projection('EPSG:900913'),
				displayProjection: new OpenLayers.Projection("EPSG:4326"),
				zoom: 9,
			});

            //Google streets is the normal map type, so we don't need to pass in a type
            var google_streets = new OpenLayers.Layer.Google(
                "Google Streets",
                {numZoomLevels: 20}
            );
            
            //Bing layers
            var bing_road = new OpenLayers.Layer.Bing({
                name: "Road",
                key: apiKey,
                type: "Road"
            });
            var bing_hybrid = new OpenLayers.Layer.Bing({
                name: "Hybrid",
                key: apiKey,
                type: "AerialWithLabels"
            });
            var bing_aerial = new OpenLayers.Layer.Bing({
                name: "Aerial",
                key: apiKey,
                type: "Aerial"
            });


            //WMS Layer
// 			var wms_layer = new OpenLayers.Layer.WMS(
// 				"GEoforst",
// 				"http://geoforst.com:8080/geoserver/geoforst/wms?",
// 				{layers: "geoforst:activity_area", 
// 					transparent: "true",
// 					 "format":"image/png"},
// 				{"reproject":"true"}
// 			);
            format = "image/png";
		 	var wms_tiled = new OpenLayers.Layer.WMS(
                  "Geoserver layers - Tiled", "http://geoforst.com:8080/geoserver/geoforst/wms",
                  {
                      LAYERS: 'Geoforst Layers',
                      STYLES: '',
                      format: format,
                      transparent: "true"
                  },
                  {
                      buffer: 0,
                      displayOutsideMaxExtent: "false",
                      isBaseLayer: false,
                    //  yx : {'EPSG:2163' : false}
                  } 
              );

            // map layers
            map.addLayers([google_streets, bing_aerial,  wms_tiled]);

			//Add a mouse position control
			map.addControl(new OpenLayers.Control.MousePosition());
			
			// Add a layer switcher control
			map.addControl(new OpenLayers.Control.LayerSwitcher({}));
			
			// Zoom the map to the max extent 
			if(!map.getCenter()){
				//map.zoomToMaxExtent();
				map.setCenter(center, 10);
			}
        }


    </script>
</head>

<body onload='init();'>
    <div id='map_element' style='width: 500px; height: 500px;'></div>
</body>
</html>
